<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sentiment Analysis | Movie Reviews</title>
  
  <!-- Open Graph Meta Tags -->
  <meta property="og:title" content="Movie Review Sentiment Analysis - AI Powered">
  <meta property="og:description" content="Analyze movie reviews with advanced AI. Get instant sentiment predictions with explainable AI and voice input.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://github.com/TheHien04/Movie-Review-Sentiment-Analysis">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Movie Review Sentiment Analysis">
  <meta name="twitter:description" content="AI-powered sentiment analysis with explainable AI and voice input">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="batch.css">
  <link rel="stylesheet" href="shared.css">
  <link rel="stylesheet" href="theme.css">
  <link rel="stylesheet" href="loading.css">
  <link rel="stylesheet" href="toast.css">
  <link rel="stylesheet" href="validation.css">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;800&display=swap" rel="stylesheet">
	<style>
		.skip-link {
			position: absolute;
			left: -9999px;
			z-index: 999;
			padding: 1em;
			background-color: #000;
			color: white;
			text-decoration: none;
		}
		.skip-link:focus {
			left: 50%;
			transform: translateX(-50%);
			top: 10px;
		}
	</style>
</head>
<body class="main-bg">
  <a href="#main-content" class="skip-link">Skip to main content</a>
  <!-- Navigation Bar -->
  <nav class="navbar-custom" role="navigation" aria-label="Main navigation">
    <div class="navbar-content">
      <a href="index.html" class="navbar-logo">
        <span>üé¨</span>
        <span>Movie Sentiment AI</span>
      </a>
      <ul class="navbar-links">
        <li><a href="index.html">Home</a></li>
        <li><a href="batch.html" class="active">Sentiment Analysis</a></li>
        <li><a href="compare.html">Compare</a></li>
        <li><a href="evaluation.html">Evaluation</a></li>
        <li><a href="dataset.html">Dataset</a></li>
      </ul>
    </div>
  </nav>

  <header class="header-gradient" role="banner">
    <h1 class="fw-bold display-5 text-white mb-1">
      <span class="me-2" aria-hidden="true">üé¨</span>Sentiment Analysis
    </h1>
  </header>
  
  <main id="main-content" role="main">
    <div class="container d-flex justify-content-center">
      <div class="main-card card shadow-lg p-4" style="max-width: 900px; width:100%; border-radius: 1.5rem;">
        <h2 class="fw-bold mb-4 text-center" style="font-family: 'Montserrat', Arial, sans-serif; font-size: 2rem;">Analyze a Movie Review</h2>
        <section class="input-section mb-4">
          <label for="single-review" class="visually-hidden">Enter movie review text</label>
          <div style="position: relative;">
            <textarea id="single-review" class="form-control mb-2" rows="3" placeholder="Type or paste your movie review here..." aria-label="Movie review text input"></textarea>
            <button id="voice-btn" class="btn btn-sm" style="position: absolute; right: 10px; top: 10px; background: linear-gradient(135deg, #9c27b0, #ba68c8); color: white; border: none; border-radius: 8px; padding: 8px 12px; cursor: pointer; transition: all 0.3s;" title="Click to use voice input" aria-label="Voice input">üé§ Voice</button>
          </div>
          
          <!-- Voice Waveform Visualization -->
          <div id="voice-container" style="display: none; margin-bottom: 15px; background: linear-gradient(135deg, #f3e5f5, #e1bee7); border-radius: 12px; padding: 20px; text-align: center;">
            <p style="margin: 0 0 10px 0; color: #6a1b9a; font-weight: 600;">üéôÔ∏è Listening...</p>
            <canvas id="voice-waveform" width="600" height="100" style="max-width: 100%; border-radius: 8px; background: white;"></canvas>
            <button id="stop-voice-btn" class="btn btn-danger btn-sm mt-2">Stop Recording</button>
          </div>
          
          <div class="d-flex justify-content-center gap-2 mb-2">
            <button id="analyze-btn" class="btn btn-dark btn-lg shadow btn-animated" aria-label="Analyze sentiment of entered review">Analyze Sentiment</button>
            <button id="view-history-btn" class="btn btn-soft btn-lg shadow" onclick="showHistoryModal()" aria-label="View analysis history">üìú History</button>
          </div>
          <div id="single-result" class="mt-2"></div>
          
          <!-- Explainable AI Results -->
          <div id="explainable-ai-container" class="mt-3" style="display: none;"></div>
          
          <!-- Social Share Buttons -->
          <div id="social-share-container" class="mt-3" style="display: none;"></div>
          
          <div class="history" id="history-box" style="display:none;">
            <h4>Recent analyses</h4>
            <div id="history-list"></div>
          </div>
        </section>
        <hr>
        <section class="batch-section mb-4">
          <h3 class="fw-bold mb-2 text-center">Batch Analysis (Upload CSV)</h3>
          <div class="d-flex flex-column flex-md-row align-items-center gap-2 mb-2">
            <label for="file-input" class="btn btn-outline-primary btn-lg shadow btn-animated" style="cursor:pointer; min-width:140px;" data-bs-toggle="tooltip" title="Ch·ªçn file CSV ch·ª©a c√°c review ƒë·ªÉ ph√¢n t√≠ch h√†ng lo·∫°t.">Choose File</label>
            <input type="file" id="file-input" accept=".csv" style="display:none;">
            <span id="file-label" class="text-muted" style="min-width:140px;">No file chosen</span>
            <button id="batch-analyze-btn" class="btn btn-danger btn-lg shadow btn-animated" data-bs-toggle="tooltip" title="Nh·∫•n ƒë·ªÉ ph√¢n t√≠ch c·∫£m x√∫c cho to√†n b·ªô file CSV.">Analyze File</button>
          </div>
          <div class="progress" id="upload-progress" style="display:none; width:260px; margin-top:10px;">
            <span id="upload-bar"></span>
          </div>
          <div id="upload-message" class="alert mt-2" style="display:none;"></div>
        </section>
        <section id="result-section" class="mb-2">
          <div class="d-flex justify-content-between align-items-center mb-2" id="batch-controls" style="display:none;">
            <div>
              <label for="sentiment-filter" class="me-2">Filter:</label>
              <select id="sentiment-filter" class="form-select form-select-sm d-inline-block" style="width:120px;">
                <option value="all">All</option>
                <option value="positive">Positive</option>
                <option value="negative">Negative</option>
              </select>
            </div>
            <button id="download-csv-btn" class="btn btn-outline-success btn-sm">Download CSV</button>
          </div>
          <div id="batch-table-wrap">
            <!-- Batch results will be rendered here -->
          </div>
        </section>
      </div>
    </div>
  </main>
  
  <footer class="py-3 text-center footer-gradient text-white-50 mt-4">
    <small>¬© 2025 Movie Sentiment AI | For Statistical Machine Learning Project</small>
  </footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="loading.js"></script>
  <script src="toast.js"></script>
  <script src="history.js"></script>
  <script src="validation.js"></script>
  <script src="excel-export.js"></script>
  <script src="explainable-ai.js"></script>
  <script src="voice-input.js"></script>
  <script src="social-share.js"></script>
  <script src="particle-effects.js"></script>
  <script src="theme.js"></script>
  <script src="shared.js"></script>
  <script>
    // Custom file input: update label and trigger file dialog
    const fileInput = document.getElementById('file-input');
    const fileLabel = document.getElementById('file-label');
    const fileBtn = document.querySelector('label[for="file-input"]');
    if (fileInput && fileLabel && fileBtn) {
      fileBtn.addEventListener('click', function() {
        fileInput.click();
      });
      fileInput.addEventListener('change', function() {
        fileLabel.textContent = fileInput.files.length ? fileInput.files[0].name : 'No file chosen';
      });
    }
  </script>
  <script src="main.js"></script>
  <script src="integrate-utils.js"></script>
</body>
</html>
